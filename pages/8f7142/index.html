<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>阿里开源神器之Arthas | Java essay</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/logo.jpg">
    <meta name="description" content="后端技术网站,专注Java学习与总结，面试。Java基础，Spring,SpringBoot,SpringCloud,SpringCloudAlibaba,数据库设计,中间件,性能优化,开源技术等技术文章。">
    <meta name="keywords" content="个人技术网站，Spring，SpringBoot，SpringCloud,中间件，数据库，架构，面试等">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.a05093ba.css" as="style"><link rel="preload" href="/assets/js/app.ab653d03.js" as="script"><link rel="preload" href="/assets/js/2.992f0e1e.js" as="script"><link rel="preload" href="/assets/js/13.53711903.js" as="script"><link rel="prefetch" href="/assets/js/10.399aeaa9.js"><link rel="prefetch" href="/assets/js/11.5a2b41b0.js"><link rel="prefetch" href="/assets/js/12.42a78f66.js"><link rel="prefetch" href="/assets/js/14.8b5830ad.js"><link rel="prefetch" href="/assets/js/15.f3761708.js"><link rel="prefetch" href="/assets/js/16.d37a274a.js"><link rel="prefetch" href="/assets/js/17.8852de33.js"><link rel="prefetch" href="/assets/js/18.b7faf234.js"><link rel="prefetch" href="/assets/js/19.4026a6e1.js"><link rel="prefetch" href="/assets/js/20.5f9551ba.js"><link rel="prefetch" href="/assets/js/21.baab11ea.js"><link rel="prefetch" href="/assets/js/22.c44fde66.js"><link rel="prefetch" href="/assets/js/23.91e49014.js"><link rel="prefetch" href="/assets/js/24.c708dca2.js"><link rel="prefetch" href="/assets/js/25.dbf8b601.js"><link rel="prefetch" href="/assets/js/3.7afb284f.js"><link rel="prefetch" href="/assets/js/4.5998c517.js"><link rel="prefetch" href="/assets/js/5.f30e7bcd.js"><link rel="prefetch" href="/assets/js/6.0be12b11.js"><link rel="prefetch" href="/assets/js/7.3f94fbcf.js"><link rel="prefetch" href="/assets/js/8.141cca0b.js"><link rel="prefetch" href="/assets/js/9.f595a1e9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a05093ba.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Java essay" class="logo"> <span class="site-name can-hide">Java essay</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><!----> <span class="title" style="display:;">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/java-base.html" class="nav-link">Java面向对象</a></li><li class="dropdown-item"><!----> <a href="/pages/java-datatype.html" class="nav-link">Java数据类型</a></li><li class="dropdown-item"><!----> <a href="/pages/java-collection.html" class="nav-link">Java集合</a></li><li class="dropdown-item"><!----> <a href="/pages/java-tools.html" class="nav-link">Java常用类库</a></li><li class="dropdown-item"><!----> <a href="/pages/java-io.html" class="nav-link">Java IO</a></li><li class="dropdown-item"><!----> <a href="/pages/java-reflex.html" class="nav-link">Java反射</a></li><li class="dropdown-item"><!----> <a href="/pages/java-t.html" class="nav-link">Java泛型</a></li><li class="dropdown-item"><!----> <a href="/pages/java-juc.html" class="nav-link">Java并发多线程</a></li><li class="dropdown-item"><!----> <a href="/pages/java-small-story.html" class="nav-link">Java你不知道的小事</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring" class="dropdown-title"><!----> <span class="title" style="display:;">Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/113e8b/" class="nav-link">Spring初识</a></li><li class="dropdown-item"><!----> <a href="/pages/c5b811/" class="nav-link">Spring IOC</a></li><li class="dropdown-item"><!----> <a href="/pages/b8e3a7/" class="nav-link">Spring AOP</a></li><li class="dropdown-item"><!----> <a href="/pages/d93455/" class="nav-link">SpringMVC</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="SpringBoot" class="dropdown-title"><!----> <span class="title" style="display:;">SpringBoot</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/171a40/" class="nav-link">SpringBoot初识</a></li><li class="dropdown-item"><!----> <a href="/pages/e5c452/" class="nav-link">SpringBoot基础</a></li><li class="dropdown-item"><!----> <a href="/pages/spring-boot-autoconfig.html" class="nav-link">SpringBoot自动装配原理</a></li><li class="dropdown-item"><!----> <a href="/pages/spring-boot-start.html" class="nav-link">SpringBoot启动原理</a></li><li class="dropdown-item"><!----> <a href="/pages/spring-boot-starter.html" class="nav-link">SpringBoot自定义Starter</a></li><li class="dropdown-item"><!----> <a href="/pages/spring-boot-mybatis.html" class="nav-link">SpringBoot集成MyBatis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分布式微服务" class="dropdown-title"><!----> <span class="title" style="display:;">分布式微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/spring-cloud.html" class="nav-link">什么是微服务</a></li><li class="dropdown-item"><!----> <a href="/pages/spring-cloud-all.html" class="nav-link">SpringCloud全家桶</a></li><li class="dropdown-item"><!----> <a href="/pages/dubbo-alibaba.html" class="nav-link">Dubbo</a></li><li class="dropdown-item"><!----> <a href="/pages/spring-cloud-alibaba.html" class="nav-link">SpringCloud Alibaba</a></li><li class="dropdown-item"><!----> <a href="/pages/pages/cap-base.html" class="nav-link">CAP及BASE理论</a></li><li class="dropdown-item"><!----> <a href="/pages/distribute-lock.html" class="nav-link">分布式锁</a></li><li class="dropdown-item"><!----> <a href="/pages/distribute-trx.html" class="nav-link">分布式事务</a></li><li class="dropdown-item"><!----> <a href="/pages/distribute-cache.html" class="nav-link">分布式缓存</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><!----> <span class="title" style="display:;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8f7142/404" class="nav-link">Zookeeper</a></li><li class="dropdown-item"><!----> <a href="/pages/8f7142/404" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/pages/8f7142/404" class="nav-link">RabbitMQ</a></li><li class="dropdown-item"><!----> <a href="/pages/8f7142/RocketMQ.html" class="nav-link">RocketMQ</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="性能分析优化" class="dropdown-title"><!----> <span class="title" style="display:;">性能分析优化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>性能分析工具之Arthas</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8f7142/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Arthas初识</a></li><li class="dropdown-subitem"><a href="/pages/4e4d50/" class="nav-link">Arthas进阶</a></li></ul></li><li class="dropdown-item"><h4>数据库性能优化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8f7142/404" class="nav-link">MySQL索引原理</a></li><li class="dropdown-subitem"><a href="/pages/8f7142/404" class="nav-link">MySQL执行计划</a></li><li class="dropdown-subitem"><a href="/pages/8f7142/404" class="nav-link">MySQL常用排查手段</a></li><li class="dropdown-subitem"><a href="/pages/8f7142/404" class="nav-link">Oracle优化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试" class="dropdown-title"><!----> <span class="title" style="display:;">面试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3d1eb9/" class="nav-link">Java基础必问</a></li><li class="dropdown-item"><!----> <a href="/pages/cc54d6/" class="nav-link">Redis面试必问</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于我" class="dropdown-title"><!----> <span class="title" style="display:;">关于我</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3312d0/" class="nav-link">简介</a></li><li class="dropdown-item"><!----> <a href="/pages/a30957/" class="nav-link">联系我</a></li></ul></div></div> <a href="https://github.com/FireHH/Java-essay" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/huge.jpg"> <div class="blogger-info"><h3>Mr.Fire</h3> <span>后端</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><!----> <span class="title" style="display:;">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/java-base.html" class="nav-link">Java面向对象</a></li><li class="dropdown-item"><!----> <a href="/pages/java-datatype.html" class="nav-link">Java数据类型</a></li><li class="dropdown-item"><!----> <a href="/pages/java-collection.html" class="nav-link">Java集合</a></li><li class="dropdown-item"><!----> <a href="/pages/java-tools.html" class="nav-link">Java常用类库</a></li><li class="dropdown-item"><!----> <a href="/pages/java-io.html" class="nav-link">Java IO</a></li><li class="dropdown-item"><!----> <a href="/pages/java-reflex.html" class="nav-link">Java反射</a></li><li class="dropdown-item"><!----> <a href="/pages/java-t.html" class="nav-link">Java泛型</a></li><li class="dropdown-item"><!----> <a href="/pages/java-juc.html" class="nav-link">Java并发多线程</a></li><li class="dropdown-item"><!----> <a href="/pages/java-small-story.html" class="nav-link">Java你不知道的小事</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring" class="dropdown-title"><!----> <span class="title" style="display:;">Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/113e8b/" class="nav-link">Spring初识</a></li><li class="dropdown-item"><!----> <a href="/pages/c5b811/" class="nav-link">Spring IOC</a></li><li class="dropdown-item"><!----> <a href="/pages/b8e3a7/" class="nav-link">Spring AOP</a></li><li class="dropdown-item"><!----> <a href="/pages/d93455/" class="nav-link">SpringMVC</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="SpringBoot" class="dropdown-title"><!----> <span class="title" style="display:;">SpringBoot</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/171a40/" class="nav-link">SpringBoot初识</a></li><li class="dropdown-item"><!----> <a href="/pages/e5c452/" class="nav-link">SpringBoot基础</a></li><li class="dropdown-item"><!----> <a href="/pages/spring-boot-autoconfig.html" class="nav-link">SpringBoot自动装配原理</a></li><li class="dropdown-item"><!----> <a href="/pages/spring-boot-start.html" class="nav-link">SpringBoot启动原理</a></li><li class="dropdown-item"><!----> <a href="/pages/spring-boot-starter.html" class="nav-link">SpringBoot自定义Starter</a></li><li class="dropdown-item"><!----> <a href="/pages/spring-boot-mybatis.html" class="nav-link">SpringBoot集成MyBatis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分布式微服务" class="dropdown-title"><!----> <span class="title" style="display:;">分布式微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/spring-cloud.html" class="nav-link">什么是微服务</a></li><li class="dropdown-item"><!----> <a href="/pages/spring-cloud-all.html" class="nav-link">SpringCloud全家桶</a></li><li class="dropdown-item"><!----> <a href="/pages/dubbo-alibaba.html" class="nav-link">Dubbo</a></li><li class="dropdown-item"><!----> <a href="/pages/spring-cloud-alibaba.html" class="nav-link">SpringCloud Alibaba</a></li><li class="dropdown-item"><!----> <a href="/pages/pages/cap-base.html" class="nav-link">CAP及BASE理论</a></li><li class="dropdown-item"><!----> <a href="/pages/distribute-lock.html" class="nav-link">分布式锁</a></li><li class="dropdown-item"><!----> <a href="/pages/distribute-trx.html" class="nav-link">分布式事务</a></li><li class="dropdown-item"><!----> <a href="/pages/distribute-cache.html" class="nav-link">分布式缓存</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><!----> <span class="title" style="display:;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8f7142/404" class="nav-link">Zookeeper</a></li><li class="dropdown-item"><!----> <a href="/pages/8f7142/404" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/pages/8f7142/404" class="nav-link">RabbitMQ</a></li><li class="dropdown-item"><!----> <a href="/pages/8f7142/RocketMQ.html" class="nav-link">RocketMQ</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="性能分析优化" class="dropdown-title"><!----> <span class="title" style="display:;">性能分析优化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>性能分析工具之Arthas</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8f7142/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Arthas初识</a></li><li class="dropdown-subitem"><a href="/pages/4e4d50/" class="nav-link">Arthas进阶</a></li></ul></li><li class="dropdown-item"><h4>数据库性能优化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8f7142/404" class="nav-link">MySQL索引原理</a></li><li class="dropdown-subitem"><a href="/pages/8f7142/404" class="nav-link">MySQL执行计划</a></li><li class="dropdown-subitem"><a href="/pages/8f7142/404" class="nav-link">MySQL常用排查手段</a></li><li class="dropdown-subitem"><a href="/pages/8f7142/404" class="nav-link">Oracle优化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试" class="dropdown-title"><!----> <span class="title" style="display:;">面试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3d1eb9/" class="nav-link">Java基础必问</a></li><li class="dropdown-item"><!----> <a href="/pages/cc54d6/" class="nav-link">Redis面试必问</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于我" class="dropdown-title"><!----> <span class="title" style="display:;">关于我</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3312d0/" class="nav-link">简介</a></li><li class="dropdown-item"><!----> <a href="/pages/a30957/" class="nav-link">联系我</a></li></ul></div></div> <a href="https://github.com/FireHH/Java-essay" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>性能分析工具</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/8f7142/" aria-current="page" class="active sidebar-link">阿里开源神器之Arthas</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/8f7142/#_1-arthas是什么" class="sidebar-link">1 Arthas是什么？</a></li><li class="sidebar-sub-header level2"><a href="/pages/8f7142/#_2-arthas安装下载" class="sidebar-link">2 Arthas安装下载</a></li><li class="sidebar-sub-header level2"><a href="/pages/8f7142/#_3-启动" class="sidebar-link">3 启动</a></li><li class="sidebar-sub-header level2"><a href="/pages/8f7142/#_4-控制台访问" class="sidebar-link">4 控制台访问</a></li><li class="sidebar-sub-header level2"><a href="/pages/8f7142/#_5-关于配置" class="sidebar-link">5 关于配置</a></li><li class="sidebar-sub-header level2"><a href="/pages/8f7142/#_6-命令" class="sidebar-link">6 命令</a></li><li class="sidebar-sub-header level2"><a href="/pages/8f7142/#_7-通过tunnel-server连接的方式" class="sidebar-link">7 通过tunnel server连接的方式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/8f7142/#_7-1先在本地下载tunnel-server" class="sidebar-link">7.1先在本地下载tunnel server</a></li><li class="sidebar-sub-header level3"><a href="/pages/8f7142/#_7-2在服务机器上启动arthas" class="sidebar-link">7.2在服务机器上启动arthas</a></li><li class="sidebar-sub-header level3"><a href="/pages/8f7142/#_7-3连接" class="sidebar-link">7.3连接</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/8f7142/#_8基础命令" class="sidebar-link">8基础命令</a></li></ul></li><li><a href="/pages/4e4d50/" class="sidebar-link">阿里开源神器之Arthas进阶</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MySQL性能优化</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90" title="分类" data-v-06225672>性能分析</a></li><li data-v-06225672><a href="/categories/?category=%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7" title="分类" data-v-06225672>性能分析工具</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/FireHH" target="_blank" title="作者" class="beLink" data-v-06225672>Mr.Fire</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-07-08</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">阿里开源神器之Arthas<!----></h1> <div class="page-slot page-slot-top">
    <div class="wwads-cn wwads-horizontal page-wwads" data-id="136"></div>
    <style>
      .page-wwads{
        width:100%!important;
        min-height: 0;
        margin: 0;
      }
      .page-wwads .wwads-img img{
        width:80px!important;
      }
      .page-wwads .wwads-poweredby{
        width: 40px;
        position: absolute;
        right: 25px;
        bottom: 3px;
      }
      .wwads-content .wwads-text, .page-wwads .wwads-text{
        height: 100%;
        padding-top: 5px;
        display: block;
      }
  </style>
  </div> <div class="theme-vdoing-content content__default"><h2 id="_1-arthas是什么"><a href="#_1-arthas是什么" class="header-anchor">#</a> 1 Arthas是什么？</h2> <p>Arthas 是Alibaba开源的Java诊断工具，深受开发者喜爱。</p> <blockquote><p>当你遇到以下类似问题而束手无策时，Arthas可以帮助你解决：</p></blockquote> <blockquote><p>这个类从哪个 jar 包加载的？为什么会报各种类相关的 Exception？</p></blockquote> <blockquote><p>我改的代码为什么没有执行到？难道是我没 commit？分支搞错了？</p></blockquote> <blockquote><p>遇到问题无法在线上 debug，难道只能通过加日志再重新发布吗？</p></blockquote> <blockquote><p>线上遇到某个用户的数据处理有问题，但线上同样无法 debug，线下无法重现！</p></blockquote> <blockquote><p>是否有一个全局视角来查看系统的运行状况？</p></blockquote> <blockquote><p>有什么办法可以监控到JVM的实时运行状态？</p></blockquote> <blockquote><p>怎么快速定位应用的热点，生成火焰图？</p></blockquote> <blockquote><p>怎样直接从JVM内查找某个类的实例？</p></blockquote> <h2 id="_2-arthas安装下载"><a href="#_2-arthas安装下载" class="header-anchor">#</a> 2 Arthas安装下载</h2> <div class="language- extra-class"><pre><code>curl -O https://arthas.aliyun.com/arthas.jar
</code></pre></div><p>或者官网下载压缩包
地址：<a href="https://arthas.aliyun.com/doc/quick-start.html" target="_blank" rel="noopener noreferrer">https://arthas.aliyun.com/doc/quick-start.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_3-启动"><a href="#_3-启动" class="header-anchor">#</a> 3 启动</h2> <p>默认情况下，arthas只监听 127.0.0.1，所以如果想从远程连接，则可以使用 --target-ip参数指定listen的IP</p> <div class="language- extra-class"><pre><code>java -jar arthas-boot.jar   #默认127.0.0.1
</code></pre></div><p>或者</p> <div class="language- extra-class"><pre><code>java -jar arthas-boot.jar --target-ip 10.2.25.59     #指定ip，可远程访问
</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/FireHH/github_img_repository/img/clipboard.png" alt="">
选择进程，输入1
<img src="https://cdn.jsdelivr.net/gh/FireHH/github_img_repository/img/clipboard2.png" alt=""></p> <h2 id="_4-控制台访问"><a href="#_4-控制台访问" class="header-anchor">#</a> 4 控制台访问</h2> <p><a href="http://10.2.25.88:8563/" target="_blank" rel="noopener noreferrer">http://10.2.25.88:8563/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>或者</p> <p><a href="http://10.2.25.88:3658/" target="_blank" rel="noopener noreferrer">http://10.2.25.88:3658/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://cdn.jsdelivr.net/gh/FireHH/github_img_repository/img/clipboard3.png" alt=""></p> <p>PS:两个端口 , 3658是 telnet， 8563是 http端口。</p> <h2 id="_5-关于配置"><a href="#_5-关于配置" class="header-anchor">#</a> 5 关于配置</h2> <p>arthas.properties文件在arthas的目录下。
如果是自动下载的arthas，则目录在~/.arthas/lib/3.x.x/arthas/下面
如果是下载的完整包，在arthas解压目录下
<img src="https://cdn.jsdelivr.net/gh/FireHH/github_img_repository/img/clipboard4.png" alt=""></p> <h2 id="_6-命令"><a href="#_6-命令" class="header-anchor">#</a> 6 命令</h2> <p>参考 <a href="https://arthas.aliyun.com/doc/commands.html" target="_blank" rel="noopener noreferrer">https://arthas.aliyun.com/doc/commands.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_7-通过tunnel-server连接的方式"><a href="#_7-通过tunnel-server连接的方式" class="header-anchor">#</a> 7 通过tunnel server连接的方式</h2> <p>为什么要用tunnel server？
在流式计算里，Java进程可以是在不同的机器启动的，想要使用Arthas去诊断会比较麻烦，因为用户通常没有机器的权限，即使登陆机器也分不清是哪个Java进程</p> <h3 id="_7-1先在本地下载tunnel-server"><a href="#_7-1先在本地下载tunnel-server" class="header-anchor">#</a> 7.1先在本地下载tunnel server</h3> <p>下载地址: <a href="https://github.com/alibaba/arthas/releases" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/arthas/releases<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
启动tunnel server</p> <div class="language- extra-class"><pre><code>java -jar arthas-tunnel-server-3.5.3-fatjar.jar
</code></pre></div><p>访问http://10.2.21.32:8080/
<img src="https://cdn.jsdelivr.net/gh/FireHH/github_img_repository/img/clipboard5.png" alt=""></p> <h3 id="_7-2在服务机器上启动arthas"><a href="#_7-2在服务机器上启动arthas" class="header-anchor">#</a> 7.2在服务机器上启动arthas</h3> <div class="language- extra-class"><pre><code>./as.sh --target-ip 10.2.25.88 --tunnel-server 'ws://10.2.21.32:7777/ws'
</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/FireHH/github_img_repository/img/clipboard6.png" alt=""></p> <p>生成的id即agentid，用于tunnel server连接
通过--select参数可以指定进程名字，非常方便。</p> <div class="language- extra-class"><pre><code>./as.sh --select math-game
</code></pre></div><h3 id="_7-3连接"><a href="#_7-3连接" class="header-anchor">#</a> 7.3连接</h3> <p>输入agentid，成功连接
<img src="https://cdn.jsdelivr.net/gh/FireHH/github_img_repository/img/clipboard7.png" alt=""></p> <h2 id="_8基础命令"><a href="#_8基础命令" class="header-anchor">#</a> 8基础命令</h2> <p><a href="https://arthas.aliyun.com/doc/commands.html" target="_blank" rel="noopener noreferrer">https://arthas.aliyun.com/doc/commands.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- extra-class"><pre><code>help  查看命令帮助信息
cls   清空当前屏幕区域
session  查看当前会话的信息
reset  重置增强类，将被 Arthas 增强过的类全部还原，Arthas 服务端关闭时会重置所有增强过的类
version  输出当前目标 Java 进程所加载的 Arthas 版本号
history  打印命令历史
quit   退出当前 Arthas 客户端，其他 Arthas 客户端不受影响
stop   关闭 Arthas 服务端，所有 Arthas 客户端全部退出
keymap   Arthas快捷键列表及自定义快捷键
dashboard   当前系统的实时数据面板
thread   查看当前 JVM 的线程堆栈信息
heapdump  类似jmap，只dump存活 --live
jad  查看源码
profiler 生成火焰图
</code></pre></div><p>参考：</p> <p>官网：<a href="https://arthas.aliyun.com/en-us/" target="_blank" rel="noopener noreferrer">https://arthas.aliyun.com/en-us/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>文档：<a href="https://arthas.aliyun.com/doc/" target="_blank" rel="noopener noreferrer">https://arthas.aliyun.com/doc/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>GitHub：<a href="https://github.com/alibaba/arthas" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/arthas<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></div>  <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" title="标签">#性能优化</a></div> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">2022/07/19, 22:06:20</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/pages/4e4d50/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">阿里开源神器之Arthas进阶</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/4e4d50/">阿里开源神器之Arthas进阶</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/908536/"><div>
            进程线程
            <!----></div></a> <span class="date">07-17</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/bdbd0d/"><div>
            MySQL索引
            <!----></div></a> <span class="date">07-12</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/4e4d50/"><div>
            阿里开源神器之Arthas进阶
            <!----></div></a> <span class="date">07-08</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:firelumf@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://gitee.com/firegitspace/java-essay.git" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>Mr.Fire | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.ab653d03.js" defer></script><script src="/assets/js/2.992f0e1e.js" defer></script><script src="/assets/js/13.53711903.js" defer></script>
  </body>
</html>
